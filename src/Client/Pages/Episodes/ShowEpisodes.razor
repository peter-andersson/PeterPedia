<Dialog CssClass="modal-fullscreen modal-dialog-scrollable" Id="@Id" Title="@Title">
    <Body>
        @if (Show is null)
        {
            <p>No show to display data for...</p>        
        }
        else
        {
            <div class="form-check form-switch">
                <input checked="@ShowAll" class="form-check-input" type="checkbox" role="switch" id="switch-showall" @onchange="ToggleShowAll">
                <label class="form-check-label" for="switch-showall">Show all episodes</label>                
            </div>

            @foreach (var season in Show.Seasons.OrderBy(s => s.SeasonNumber))
            {
                if (ShowAll)
                {
                    <SeasonView Show="@Show" Season="@season" DisplayAllEpisodes="true"></SeasonView>
                }
                if (!season.IsAllWatched && (season.Episodes.Count > 0))
                {
                    <SeasonView Show="@Show" Season="@season" DisplayAllEpisodes="false"></SeasonView>
                }
            }
        }
    </Body>
    <Footer>
        <button type="button" class="btn btn-primary" @onclick="Close" data-bs-dismiss="modal">Close</button>
    </Footer>
</Dialog>